# Шаблон для верстки в связке с Gulp

## Содержание

- [Установка проекта](#установка-проекта)
- [Руководство по ведению проекта](#руководство-по-ведению-проекта)
- [Работа с путями](#работа-с-путями)
- [Команды NPM](#команды-npm)
- [Конфигурация Browser Sync](#конфигурация-browser-sync)

## Установка проекта

Перед началом работы выполнить следующие действия:

- Скопировать проект с репозитория командой `git clone https://github.com/NVinox/GulpTemplate.git`;
- Выполнить в терминале команду `npm install` для установки перечисленных зависимостей;
- Если вы работаете из под Windows, то активируйте получение уведомлений.
  > Это сделано для удобства обработки ошибок плагина `gulp-notify`, который выдает ошибку в саму OS, а не только в терминал.<br>[Подробнее](https://www.npmjs.com/package/gulp-notify "Ссылка на пакет gulp-notify")
- Установить плагин [Path Autocomplete](https://marketplace.visualstudio.com/items?itemName=ionutvmi.path-autocomplete, "Ссылка на страницу плагина");
- Перейти в `settings.json` и прописать следующие настройки для [Path Autocomplete](https://marketplace.visualstudio.com/items?itemName=ionutvmi.path-autocomplete, "Ссылка на страницу плагина"):
  ```
    "path-autocomplete.pathMappings": {
  	"@image": "${folder}/src/assets/images",
  	"@script": "${folder}/src/assets/scripts",
  	"@scss": "${folder}/src/assets/scss"
  }
  ```

## Руководство по ведению проекта

Небольшая нотация:

- Если в директории указан файл с конкретным названием и расширением, то он необходим к созданию;
- `...` - любое количество директорий.

### Расположение папок для разработки

```
  |-dist-  Директория для сборки результа
  |-src-   Директория в которой ведется разработка
        |-index.html
        |-assets-
                |-fonts-
                      |...
                |-html-
                      |...
                |-images-
                      |...
                |-scripts-
                      |...
                      |-script.js
                |-scss-
                      |...
                      |-index.scss
```

## Работа с путями

При работе с путями в `HTML` (подключение изображений, скриптов) необходимо использовать сниппет `@img` или `@script`.<br>
Сниппет сам будет автодополнять нужный модуль или файл из дирректории скриптов или изображений.

```
<script type="module" src="@script/script.js"></script>
```

## Команды NPM

Описание команд `npm` в `scripts`:

- `start` - запуск в обычном режиме. Запускается `Watcher` и разворачивается локальный сервер `Browser Sync`
  > Запуск: `npm start`
- `build` - сухая сборка проекта без запуска дополнительных инструментов разработки.
  > Запуск: `npm run build`

## Конфигурация Browser Sync

Запуск локального сервера происходит на дефолтном порту 3000.<br>
Если у вас по каким-либо причинам занят этот порт, то следует его изменить в настройках `Browser Sync`.<br>
Для этого перейдите в директорию `gulp -> tasks -> server.js` и измените порт.

```
  plugins.browserSync.init({
		server: `./${path.distPath}`,
		port: 3000, - Поменять этот порт!
	});
```
